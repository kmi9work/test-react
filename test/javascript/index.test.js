import React from 'react';
import ReactDOM from 'react-dom';

import { shallow, configure, mount } from 'enzyme';
import Adapter from 'enzyme-adapter-react-16';
configure({ adapter: new Adapter() });

import Index from 'Index'

test('rendered component', () => {
  let novelties=JSON.parse("[{\"id\":1,\"title\":\"Российские автоконцерны выступили за повышение налога на старые машины\",\"text\":\"С поддержкой предложения *Минпромторга* о повышении транспортного налога для коммерческих автомобилей экологического класса _«Евро-3»_ и ниже выступил ряд российских автопроизводителей 21 февраля в ходе опроса, проведенного РИА Новости.\",\"published_at\":\"01.04 21:54\",\"source\":\"РИА Новости\",\"source_url\":\"https://ria.ru/20200221/1565049951.html\",\"author_id\":1,\"category_id\":1,\"age_id\":1,\"created_at\":\"2020-04-01T21:54:18.825Z\",\"updated_at\":\"2020-04-01T21:54:18.825Z\",\"category\":{\"id\":1,\"title\":\"Авто\",\"created_at\":\"2020-04-01T21:54:18.719Z\",\"updated_at\":\"2020-04-01T21:54:18.719Z\"},\"author\":{\"id\":1,\"name\":\"Vasily\",\"email\":\"test@test.com\",\"password_digest\":\"$2a$12$5ZPEkNjDp3woYaWnK2AzreC1Fn8mD/gfon9xuuyQoNvV19e9dR1ti\",\"created_at\":\"2020-04-01T21:54:18.699Z\",\"updated_at\":\"2020-04-01T21:54:18.699Z\"},\"age\":{\"id\":1,\"title\":\"0+\",\"created_at\":\"2020-04-01T21:54:18.749Z\",\"updated_at\":\"2020-04-01T21:54:18.749Z\"}},{\"id\":2,\"title\":\"Аналитики назвали средние цены на автомобили в России\",\"text\":\"Средние цены новых легковых автомобилей на российском рынке в январе 2020 года назвали аналитики агентства «Автостат Инфо», 27 февраля сообщает пресс-служба организации.\",\"published_at\":\"01.04 21:54\",\"source\":\"Автостат Инфо\",\"source_url\":\"https://avtostat-info.com/News/9376\",\"author_id\":1,\"category_id\":1,\"age_id\":3,\"created_at\":\"2020-04-01T21:54:18.834Z\",\"updated_at\":\"2020-04-01T21:54:18.834Z\",\"category\":{\"id\":1,\"title\":\"Авто\",\"created_at\":\"2020-04-01T21:54:18.719Z\",\"updated_at\":\"2020-04-01T21:54:18.719Z\"},\"author\":{\"id\":1,\"name\":\"Vasily\",\"email\":\"test@test.com\",\"password_digest\":\"$2a$12$5ZPEkNjDp3woYaWnK2AzreC1Fn8mD/gfon9xuuyQoNvV19e9dR1ti\",\"created_at\":\"2020-04-01T21:54:18.699Z\",\"updated_at\":\"2020-04-01T21:54:18.699Z\"},\"age\":{\"id\":3,\"title\":\"12+\",\"created_at\":\"2020-04-01T21:54:18.765Z\",\"updated_at\":\"2020-04-01T21:54:18.765Z\"}},{\"id\":3,\"title\":\"Жертвами схода оползня на юго-западе Китая стали четыре человека\",\"text\":\"Четыре человека погибли и еще трое по-прежнему числятся пропавшими без вести после схода оползня в провинции Гуйчжоу на юго-западе Китая, сообщает 29 марта агентство Синьхуа.\",\"published_at\":\"01.04 21:54\",\"source\":\"Синьхуа\",\"source_url\":\"http://www.xinhuanet.com/english/2020-03/29/c_138927684.htm\",\"author_id\":1,\"category_id\":4,\"age_id\":3,\"created_at\":\"2020-04-01T21:54:18.843Z\",\"updated_at\":\"2020-04-01T21:54:18.843Z\",\"category\":{\"id\":4,\"title\":\"Происшествия\",\"created_at\":\"2020-04-01T21:54:18.739Z\",\"updated_at\":\"2020-04-01T21:54:18.739Z\"},\"author\":{\"id\":1,\"name\":\"Vasily\",\"email\":\"test@test.com\",\"password_digest\":\"$2a$12$5ZPEkNjDp3woYaWnK2AzreC1Fn8mD/gfon9xuuyQoNvV19e9dR1ti\",\"created_at\":\"2020-04-01T21:54:18.699Z\",\"updated_at\":\"2020-04-01T21:54:18.699Z\"},\"age\":{\"id\":3,\"title\":\"12+\",\"created_at\":\"2020-04-01T21:54:18.765Z\",\"updated_at\":\"2020-04-01T21:54:18.765Z\"}}]")
  let categories=JSON.parse("[{\"id\":1,\"title\":\"Авто\",\"created_at\":\"2020-04-01T21:54:18.719Z\",\"updated_at\":\"2020-04-01T21:54:18.719Z\"},{\"id\":2,\"title\":\"Здоровье\",\"created_at\":\"2020-04-01T21:54:18.726Z\",\"updated_at\":\"2020-04-01T21:54:18.726Z\"},{\"id\":3,\"title\":\"Финансы\",\"created_at\":\"2020-04-01T21:54:18.733Z\",\"updated_at\":\"2020-04-01T21:54:18.733Z\"},{\"id\":4,\"title\":\"Происшествия\",\"created_at\":\"2020-04-01T21:54:18.739Z\",\"updated_at\":\"2020-04-01T21:54:18.739Z\"}]")
  let ages=JSON.parse("[{\"id\":1,\"title\":\"0+\",\"created_at\":\"2020-04-01T21:54:18.749Z\",\"updated_at\":\"2020-04-01T21:54:18.749Z\"},{\"id\":2,\"title\":\"6+\",\"created_at\":\"2020-04-01T21:54:18.757Z\",\"updated_at\":\"2020-04-01T21:54:18.757Z\"},{\"id\":3,\"title\":\"12+\",\"created_at\":\"2020-04-01T21:54:18.765Z\",\"updated_at\":\"2020-04-01T21:54:18.765Z\"},{\"id\":4,\"title\":\"16+\",\"created_at\":\"2020-04-01T21:54:18.773Z\",\"updated_at\":\"2020-04-01T21:54:18.773Z\"},{\"id\":5,\"title\":\"18+\",\"created_at\":\"2020-04-01T21:54:18.788Z\",\"updated_at\":\"2020-04-01T21:54:18.788Z\"}]")

  console.log(novelties, categories, ages)
  const wrapper = mount(<Index
    novelties={novelties}  
    categories={categories}
    ages={ages}
  />);
  expect(wrapper.find('.novelty')).toHaveLength(3);
})